@model DataAccess.Entities.Book

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Book</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-3">
            @Html.DisplayNameFor(model => model.ISBN)
        </dt>
        <dd class="col-sm-9">
            @Html.DisplayFor(model => model.ISBN)
        </dd>
        <dt class="col-sm-3">
            @Html.DisplayName("Antal tilgængelige")
        </dt>
        <dd class="col-sm-9">
            @{ string count = Model.Copies.Where(x => x.IsAvailable == true).Count().ToString();}
            @Html.DisplayFor(model => count)
        </dd>
        <dt class="col-sm-3">
            @Html.DisplayName("Tilgængelige barcodes")
        </dt>
        <dd class="col-sm-9">
            @{ string barcodes = String.Join<int>(", ", Model.Copies.Where(x => x.IsAvailable == true).Select(x => x.Barcode));}
            @Html.DisplayFor(model => barcodes)
        </dd>
        <dt class="col-sm-3">
            @Html.DisplayName("Antal udlånte")
        </dt>
        <dd class="col-sm-9">
            @{ string countBorrowed = Model.Copies.Where(x => x.IsAvailable == false).Count().ToString();}
            @Html.DisplayFor(model => countBorrowed)
        </dd>
        <dt class="col-sm-3">
            @Html.DisplayName("Udlånte barcodes")
        </dt>
        <dd class="col-sm-9">
            @{ string barcodesBorrowed = String.Join<int>(", ", Model.Copies.Where(x => x.IsAvailable == false).Select(x => x.Barcode));}
            @Html.DisplayFor(model => barcodesBorrowed)
        </dd>
        <dt class="col-sm-3" style="padding-top:30px;">
            @Html.DisplayNameFor(model => model.BookDescription)
        </dt>
        <dd class="col-sm-9" style="padding-top:30px;">
            @Html.DisplayFor(model => model.BookDescription)
        </dd>
    </dl>
</div>
<div>
    @Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |
    <a asp-action="Index">Back to List</a>
</div>
